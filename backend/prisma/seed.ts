/**
 * Database Seeder
 * ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
 * 
 * ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ: npm run seed
 */

import { PrismaClient, JobStatus } from '@prisma/client';
import bcrypt from 'bcrypt';

const prisma = new PrismaClient();

async function main() {
  console.log('üå± ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Seed ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...\n');

  // ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤ (‡∏£‡∏∞‡∏ß‡∏±‡∏á!)
  console.log('üóëÔ∏è  ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤...');
  await prisma.activityLog.deleteMany();
  await prisma.jobImage.deleteMany();
  await prisma.jobPart.deleteMany();
  await prisma.repairRecord.deleteMany();
  await prisma.quotation.deleteMany();
  await prisma.transaction.deleteMany();
  await prisma.job.deleteMany();
  await prisma.customer.deleteMany();
  await prisma.part.deleteMany();
  await prisma.minerModel.deleteMany();
  await prisma.brand.deleteMany();
  await prisma.warrantyProfile.deleteMany();
  await prisma.user.deleteMany();
  
  console.log('‚úÖ ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢\n');

  // 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Users
  console.log('üë• ‡∏™‡∏£‡πâ‡∏≤‡∏á Users...');
  const hashedPassword = await bcrypt.hash('123456', 10);

  const admin = await prisma.user.create({
    data: {
      username: 'admin',
      password: hashedPassword,
      fullName: '‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö',
      email: 'admin@ibit.com',
      role: 'ADMIN',
      language: 'th',
      isActive: true,
    },
  });

  const manager = await prisma.user.create({
    data: {
      username: 'manager',
      password: hashedPassword,
      fullName: '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ ‡∏™‡∏°‡∏ä‡∏≤‡∏¢',
      email: 'manager@ibit.com',
      role: 'MANAGER',
      language: 'th',
      isActive: true,
    },
  });

  const tech1 = await prisma.user.create({
    data: {
      username: 'tech1',
      password: hashedPassword,
      fullName: '‡∏ä‡πà‡∏≤‡∏á‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏Å‡πà‡∏á',
      email: 'tech1@ibit.com',
      role: 'TECHNICIAN',
      language: 'th',
      isActive: true,
    },
  });

  const tech2 = await prisma.user.create({
    data: {
      username: 'tech2',
      password: hashedPassword,
      fullName: '‡∏ä‡πà‡∏≤‡∏á‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡πÅ‡∏Å‡πâ‡πÄ‡∏Å‡πà‡∏á',
      email: 'tech2@ibit.com',
      role: 'TECHNICIAN',
      language: 'th',
      isActive: true,
    },
  });

  const receptionist = await prisma.user.create({
    data: {
      username: 'receptionist',
      password: hashedPassword,
      fullName: '‡πÅ‡∏ú‡∏ô‡∏Å‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö ‡∏™‡∏∏‡∏î‡∏≤',
      email: 'reception@ibit.com',
      role: 'RECEPTIONIST',
      language: 'th',
      isActive: true,
    },
  });

  console.log(`‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ${5} Users (‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: 123456)\n`);

  // 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Brands
  console.log('üè∑Ô∏è  ‡∏™‡∏£‡πâ‡∏≤‡∏á Brands...');
  const bitmain = await prisma.brand.create({
    data: {
      name: 'Bitmain',
    },
  });

  const microbt = await prisma.brand.create({
    data: {
      name: 'MicroBT',
    },
  });

  const canaan = await prisma.brand.create({
    data: {
      name: 'Canaan',
    },
  });

  console.log(`‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ${3} Brands\n`);

  // 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Models
  console.log('‚öôÔ∏è  ‡∏™‡∏£‡πâ‡∏≤‡∏á Miner Models...');
  const models = await Promise.all([
    // Bitmain
    prisma.minerModel.create({
      data: {
        brandId: bitmain.id,
        modelName: 'Antminer S19 Pro',
        hashrate: '110 TH/s',
        powerUsage: '3250W',
        description: '‡∏£‡∏∏‡πà‡∏ô‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏∏‡∏î Bitcoin',
      },
    }),
    prisma.minerModel.create({
      data: {
        brandId: bitmain.id,
        modelName: 'Antminer S19j Pro',
        hashrate: '104 TH/s',
        powerUsage: '3068W',
        description: '‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏ü',
      },
    }),
    prisma.minerModel.create({
      data: {
        brandId: bitmain.id,
        modelName: 'Antminer S17 Pro',
        hashrate: '53 TH/s',
        powerUsage: '2094W',
        description: '‡∏£‡∏∏‡πà‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡∏¢‡∏±‡∏á‡∏ô‡∏¥‡∏¢‡∏°',
      },
    }),
    // MicroBT
    prisma.minerModel.create({
      data: {
        brandId: microbt.id,
        modelName: 'Whatsminer M30S++',
        hashrate: '112 TH/s',
        powerUsage: '3472W',
        description: '‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏≠‡∏á S19 Pro',
      },
    }),
    prisma.minerModel.create({
      data: {
        brandId: microbt.id,
        modelName: 'Whatsminer M20S',
        hashrate: '68 TH/s',
        powerUsage: '3360W',
        description: '‡∏£‡∏∏‡πà‡∏ô‡∏Å‡∏•‡∏≤‡∏á',
      },
    }),
    // Canaan
    prisma.minerModel.create({
      data: {
        brandId: canaan.id,
        modelName: 'AvalonMiner 1246',
        hashrate: '90 TH/s',
        powerUsage: '3420W',
        description: '‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î',
      },
    }),
  ]);

  console.log(`‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ${models.length} Models\n`);

  // 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á Warranty Profiles
  console.log('üìã ‡∏™‡∏£‡πâ‡∏≤‡∏á Warranty Profiles...');
  const warranties = await Promise.all([
    prisma.warrantyProfile.create({
      data: {
        name: '‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô 30 ‡∏ß‡∏±‡∏ô',
        durationDays: 30,
        description: '‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô 30 ‡∏ß‡∏±‡∏ô ‡∏ô‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∑‡∏ô',
        terms: '‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á 30 ‡∏ß‡∏±‡∏ô',
        isActive: true,
      },
    }),
    prisma.warrantyProfile.create({
      data: {
        name: '‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô 90 ‡∏ß‡∏±‡∏ô',
        durationDays: 90,
        description: '‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô 90 ‡∏ß‡∏±‡∏ô ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ VIP',
        terms: '‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á 90 ‡∏ß‡∏±‡∏ô',
        isActive: true,
      },
    }),
    prisma.warrantyProfile.create({
      data: {
        name: '‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô 180 ‡∏ß‡∏±‡∏ô (Premium)',
        durationDays: 180,
        description: '‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡∏û‡∏¥‡πÄ‡∏®‡∏© 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô',
        terms: '‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡∏ü‡∏£‡∏µ',
        isActive: true,
      },
    }),
  ]);

  console.log(`‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ${warranties.length} Warranty Profiles\n`);

  // 5. ‡∏™‡∏£‡πâ‡∏≤‡∏á Parts
  console.log('üîß ‡∏™‡∏£‡πâ‡∏≤‡∏á Parts...');
  const parts = await Promise.all([
    prisma.part.create({
      data: {
        partName: 'Hash Board',
        partNumber: 'HB-S19-001',
        stockQty: 15,
        minStockQty: 5,
        unitPrice: 12000,
        description: 'Hash Board ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Antminer S19 Series',
      },
    }),
    prisma.part.create({
      data: {
        partName: 'Control Board',
        partNumber: 'CB-S19-001',
        stockQty: 8,
        minStockQty: 3,
        unitPrice: 3500,
        description: 'Control Board ‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°',
      },
    }),
    prisma.part.create({
      data: {
        partName: 'Power Supply Unit (PSU)',
        partNumber: 'PSU-APW12-001',
        stockQty: 20,
        minStockQty: 8,
        unitPrice: 5500,
        description: 'PSU 3250W ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö S19 Pro',
      },
    }),
    prisma.part.create({
      data: {
        partName: 'Cooling Fan 120mm',
        partNumber: 'FAN-120-001',
        stockQty: 50,
        minStockQty: 20,
        unitPrice: 450,
        description: '‡∏û‡∏±‡∏î‡∏•‡∏°‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô 120mm',
      },
    }),
    prisma.part.create({
      data: {
        partName: 'Data Cable',
        partNumber: 'CABLE-DATA-001',
        stockQty: 2, // ‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏ï‡πà‡∏≥‡∏à‡∏á‡πÉ‡∏à
        minStockQty: 10,
        unitPrice: 250,
        description: '‡∏™‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• FFC',
      },
    }),
    prisma.part.create({
      data: {
        partName: 'Thermal Paste',
        partNumber: 'PASTE-TH-001',
        stockQty: 5, // ‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏ï‡πà‡∏≥‡∏à‡∏á‡πÉ‡∏à
        minStockQty: 15,
        unitPrice: 180,
        description: '‡∏¢‡∏≤‡∏ó‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á',
      },
    }),
    prisma.part.create({
      data: {
        partName: 'Heatsink',
        partNumber: 'HS-ALU-001',
        stockQty: 25,
        minStockQty: 10,
        unitPrice: 850,
        description: '‡∏ï‡∏±‡∏ß‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏≠‡∏•‡∏π‡∏°‡∏¥‡πÄ‡∏ô‡∏µ‡∏¢‡∏°',
      },
    }),
  ]);

  console.log(`‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ${parts.length} Parts (‡∏°‡∏µ 2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏ï‡πà‡∏≥)\n`);

  // 6. ‡∏™‡∏£‡πâ‡∏≤‡∏á Customers
  console.log('üë§ ‡∏™‡∏£‡πâ‡∏≤‡∏á Customers...');
  const customers = await Promise.all([
    prisma.customer.create({
      data: {
        fullName: '‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ',
        phone: '0812345678',
        email: 'somchai@example.com',
        address: '123 ‡∏ñ.‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó ‡πÅ‡∏Ç‡∏ß‡∏á‡∏Ñ‡∏•‡∏≠‡∏á‡πÄ‡∏ï‡∏¢ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10110',
        notes: '‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ VIP ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ö‡πà‡∏≠‡∏¢',
      },
    }),
    prisma.customer.create({
      data: {
        fullName: '‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏∏‡∏î‡∏≤ ‡∏£‡∏±‡∏Å‡∏î‡∏µ',
        phone: '0823456789',
        email: 'suda@example.com',
        address: '456 ‡∏ñ.‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 4 ‡πÅ‡∏Ç‡∏ß‡∏á‡∏û‡∏£‡∏∞‡πÇ‡∏Ç‡∏ô‡∏á ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10110',
      },
    }),
    prisma.customer.create({
      data: {
        fullName: '‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏Ñ‡∏£‡∏¥‡∏õ‡πÇ‡∏ï‡πÑ‡∏°‡∏ô‡πå ‡∏à‡∏≥‡∏Å‡∏±‡∏î',
        phone: '0834567890',
        email: 'contact@cryptomine.co.th',
        address: '789 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÑ‡∏≠‡∏ó‡∏µ ‡∏ñ.‡∏û‡∏ç‡∏≤‡πÑ‡∏ó ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10400',
        notes: '‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ ‡∏°‡∏µ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏¢‡∏≠‡∏∞',
      },
    }),
    prisma.customer.create({
      data: {
        fullName: '‡∏ô‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡∏°‡∏±‡πà‡∏á‡∏°‡∏µ',
        phone: '0845678901',
        email: 'vichai@example.com',
        address: '321 ‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô ‡∏ï.‡∏Ñ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á ‡∏à.‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ 12120',
      },
    }),
    prisma.customer.create({
      data: {
        fullName: '‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò‡πå ‡∏Ç‡∏¢‡∏±‡∏ô',
        phone: '0856789012',
        email: null,
        address: '111 ‡∏ã.‡∏•‡∏≤‡∏î‡∏û‡∏£‡πâ‡∏≤‡∏ß 101 ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10310',
        notes: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏µ‡πÄ‡∏°‡∏• ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏≤‡∏á‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå',
      },
    }),
  ]);

  console.log(`‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ${customers.length} Customers\n`);

  // 7. ‡∏™‡∏£‡πâ‡∏≤‡∏á Jobs
  console.log('üìã ‡∏™‡∏£‡πâ‡∏≤‡∏á Jobs...');
  
  // Job 1: ‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
  const job1 = await prisma.job.create({
    data: {
      jobNumber: 'RJ2025-0001',
      customerId: customers[0].id,
      minerModelId: models[0].id,
      serialNumber: 'BM-S19P-12345',
      password: 'admin123',
      status: 'COMPLETED',
      priority: 0,
      warrantyProfileId: warranties[0].id,
      problemDescription: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î ‡∏û‡∏±‡∏î‡∏•‡∏°‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô ‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á Beep 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á',
      customerNotes: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏ü‡∏≤‡∏£‡πå‡∏°',
      receivedDate: new Date('2025-01-15T09:00:00'),
      completedDate: new Date('2025-01-18T16:30:00'),
      technicianId: tech1.id,
      createdById: receptionist.id,
    },
  });

  // Job 2: ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ã‡πà‡∏≠‡∏°
  const job2 = await prisma.job.create({
    data: {
      jobNumber: 'RJ2025-0002',
      customerId: customers[1].id,
      minerModelId: models[1].id,
      serialNumber: 'BM-S19J-67890',
      status: 'IN_REPAIR',
      priority: 1, // ‡∏î‡πà‡∏ß‡∏ô
      warrantyProfileId: warranties[1].id,
      problemDescription: 'Hash rate ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ 50% ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡πâ‡∏≠‡∏ô‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥',
      receivedDate: new Date('2025-01-20T10:30:00'),
      technicianId: tech2.id,
      createdById: receptionist.id,
    },
  });

  // Job 3: ‡∏£‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
  const job3 = await prisma.job.create({
    data: {
      jobNumber: 'RJ2025-0003',
      customerId: customers[2].id,
      minerModelId: models[3].id,
      serialNumber: 'WM-M30S-11111',
      status: 'WAITING_APPROVAL',
      priority: 0,
      problemDescription: 'Hash board 1 ‡∏ä‡∏¥‡∏õ‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏à‡∏≠‡∏ä‡∏¥‡∏õ‡πÄ‡∏™‡∏µ‡∏¢ 3 ‡∏ï‡∏±‡∏ß',
      customerNotes: '‡∏£‡∏≠‡πÉ‡∏ö‡πÄ‡∏™‡∏ô‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£',
      receivedDate: new Date('2025-01-21T11:00:00'),
      technicianId: tech1.id,
      createdById: receptionist.id,
    },
  });

  // Job 4: ‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏£‡∏±‡∏ö‡∏°‡∏≤
  const job4 = await prisma.job.create({
    data: {
      jobNumber: 'RJ2025-0004',
      customerId: customers[3].id,
      minerModelId: models[2].id,
      serialNumber: null,
      status: 'RECEIVED',
      priority: 2, // ‡∏î‡πà‡∏ß‡∏ô‡∏°‡∏≤‡∏Å
      problemDescription: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏±‡∏ö‡πÄ‡∏≠‡∏á ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ ‡∏°‡∏µ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÑ‡∏´‡∏°‡πâ',
      receivedDate: new Date('2025-01-22T14:00:00'),
      createdById: receptionist.id,
    },
  });

  // Job 5: ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö
  const job5 = await prisma.job.create({
    data: {
      jobNumber: 'RJ2025-0005',
      customerId: customers[4].id,
      minerModelId: models[4].id,
      serialNumber: 'WM-M20S-99999',
      status: 'READY_FOR_PICKUP',
      priority: 0,
      warrantyProfileId: warranties[2].id,
      problemDescription: '‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ï‡∏≤‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏¢‡∏≤‡∏ó‡∏≤',
      receivedDate: new Date('2025-01-19T08:00:00'),
      completedDate: new Date('2025-01-22T15:00:00'),
      technicianId: tech2.id,
      createdById: receptionist.id,
    },
  });

  console.log(`‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ${5} Jobs\n`);

  // 8. ‡∏™‡∏£‡πâ‡∏≤‡∏á Repair Records
  console.log('üìù ‡∏™‡∏£‡πâ‡∏≤‡∏á Repair Records...');
  await Promise.all([
    // Job 1 Records
    prisma.repairRecord.create({
      data: {
        jobId: job1.id,
        createdBy: tech1.id,
        description: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡∏û‡∏ö‡∏û‡∏±‡∏î‡∏•‡∏° 2 ‡∏ï‡∏±‡∏ß‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô PSU ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥',
        findings: '‡∏û‡∏±‡∏î‡∏•‡∏°‡πÄ‡∏™‡∏µ‡∏¢ 2 ‡∏ï‡∏±‡∏ß, ‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏û‡∏±‡∏î‡∏•‡∏°‡∏Ç‡∏≤‡∏î',
        actions: '‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏û‡∏±‡∏î‡∏•‡∏°‡πÉ‡∏´‡∏°‡πà 2 ‡∏ï‡∏±‡∏ß, ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü',
      },
    }),
    prisma.repairRecord.create({
      data: {
        jobId: job1.id,
        createdBy: tech1.id,
        description: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏ã‡πà‡∏≠‡∏° ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ Hash rate ‡∏ï‡∏≤‡∏°‡∏™‡πÄ‡∏õ‡∏Ñ',
        findings: '‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏Å‡∏ï‡∏¥ 65-70¬∞C',
        actions: '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏¢‡∏≤‡∏ó‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô',
      },
    }),
    // Job 2 Records
    prisma.repairRecord.create({
      data: {
        jobId: job2.id,
        createdBy: tech2.id,
        description: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Hash board ‡∏ó‡∏±‡πâ‡∏á 3 ‡πÅ‡∏ú‡∏á ‡∏û‡∏ö‡πÅ‡∏ú‡∏á‡∏ó‡∏µ‡πà 2 ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥',
        findings: 'Hash board ‡∏ä‡∏¥‡∏õ‡∏´‡∏•‡∏∏‡∏î 5 ‡∏ï‡∏±‡∏ß, ‡∏¢‡∏≤‡∏ó‡∏≤‡πÅ‡∏´‡πâ‡∏á',
        actions: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Hash board',
      },
    }),
    // Job 3 Records
    prisma.repairRecord.create({
      data: {
        jobId: job3.id,
        createdBy: tech1.id,
        description: '‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏û‡∏ö‡∏ä‡∏¥‡∏õ‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏ô Hash board',
        findings: '‡∏ä‡∏¥‡∏õ ASIC ‡πÄ‡∏™‡∏µ‡∏¢ 3 ‡∏ï‡∏±‡∏ß ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ï‡πà‡πÑ‡∏î‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏ú‡∏á‡πÉ‡∏´‡∏°‡πà',
        actions: '‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ö‡πÄ‡∏™‡∏ô‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Hash board 12,000 ‡∏ö‡∏≤‡∏ó',
      },
    }),
    // Job 5 Records
    prisma.repairRecord.create({
      data: {
        jobId: job5.id,
        createdBy: tech2.id,
        description: '‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏á‡∏ß‡∏î ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ó‡∏±‡πà‡∏ß‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á',
        findings: '‡∏™‡∏†‡∏≤‡∏û‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏µ ‡∏ù‡∏∏‡πà‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢',
        actions: '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏¢‡∏≤‡∏ó‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
      },
    }),
  ]);

  console.log(`‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ${5} Repair Records\n`);

  // 9. ‡∏™‡∏£‡πâ‡∏≤‡∏á Job Parts
  console.log('üîß ‡∏™‡∏£‡πâ‡∏≤‡∏á Job Parts...');
  await Promise.all([
    // Job 1 ‡πÉ‡∏ä‡πâ‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà
    prisma.jobPart.create({
      data: {
        jobId: job1.id,
        partId: parts[3].id, // Cooling Fan
        quantity: 2,
        unitPrice: 450,
        notes: '‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏û‡∏±‡∏î‡∏•‡∏°‡πÄ‡∏™‡∏µ‡∏¢',
      },
    }),
    // Job 2 ‡πÉ‡∏ä‡πâ‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà
    prisma.jobPart.create({
      data: {
        jobId: job2.id,
        partId: parts[0].id, // Hash Board
        quantity: 1,
        unitPrice: 12000,
        notes: '‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Hash board ‡∏ä‡∏¥‡∏õ‡πÄ‡∏™‡∏µ‡∏¢',
      },
    }),
    prisma.jobPart.create({
      data: {
        jobId: job2.id,
        partId: parts[5].id, // Thermal Paste
        quantity: 1,
        unitPrice: 180,
      },
    }),
    // Job 5 ‡πÉ‡∏ä‡πâ‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà
    prisma.jobPart.create({
      data: {
        jobId: job5.id,
        partId: parts[5].id, // Thermal Paste
        quantity: 1,
        unitPrice: 180,
        notes: '‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤',
      },
    }),
  ]);

  // ‡∏•‡∏î‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
  await prisma.part.update({
    where: { id: parts[3].id },
    data: { stockQty: { decrement: 2 } }, // Fan -2
  });
  await prisma.part.update({
    where: { id: parts[0].id },
    data: { stockQty: { decrement: 1 } }, // Hash Board -1
  });
  await prisma.part.update({
    where: { id: parts[5].id },
    data: { stockQty: { decrement: 2 } }, // Thermal Paste -2
  });

  console.log(`‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ${4} Job Parts ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ï‡πä‡∏≠‡∏Å\n`);

  // 10. ‡∏™‡∏£‡πâ‡∏≤‡∏á Activity Logs
  console.log('üìä ‡∏™‡∏£‡πâ‡∏≤‡∏á Activity Logs...');
  await Promise.all([
    prisma.activityLog.create({
      data: {
        jobId: job1.id,
        userId: receptionist.id,
        action: 'CREATE_JOB',
        description: '‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏° RJ2025-0001',
      },
    }),
    prisma.activityLog.create({
      data: {
        jobId: job1.id,
        userId: tech1.id,
        action: 'ASSIGN_TECHNICIAN',
        description: '‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏≤‡∏á‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå',
      },
    }),
    prisma.activityLog.create({
      data: {
        jobId: job1.id,
        userId: tech1.id,
        action: 'STATUS_CHANGE',
        description: '‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: RECEIVED ‚Üí IN_REPAIR',
      },
    }),
    prisma.activityLog.create({
      data: {
        jobId: job1.id,
        userId: tech1.id,
        action: 'ADD_PART',
        description: '‡πÄ‡∏ö‡∏¥‡∏Å‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà: Cooling Fan 120mm x2',
      },
    }),
    prisma.activityLog.create({
      data: {
        jobId: job1.id,
        userId: tech1.id,
        action: 'STATUS_CHANGE',
        description: '‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: IN_REPAIR ‚Üí COMPLETED',
      },
    }),
    // Job 2
    prisma.activityLog.create({
      data: {
        jobId: job2.id,
        userId: receptionist.id,
        action: 'CREATE_JOB',
        description: '‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏° RJ2025-0002',
      },
    }),
    prisma.activityLog.create({
      data: {
        jobId: job2.id,
        userId: tech2.id,
        action: 'ADD_PART',
        description: '‡πÄ‡∏ö‡∏¥‡∏Å‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà: Hash Board x1',
      },
    }),
  ]);

  console.log(`‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á ${7} Activity Logs\n`);

  // ‡∏™‡∏£‡∏∏‡∏õ
  console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
  console.log('üéâ Seed ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!\n');
  console.log('üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á:');
  console.log('   - Users: 5 (admin, manager, 2 techs, receptionist)');
  console.log('   - Brands: 3 (Bitmain, MicroBT, Canaan)');
  console.log('   - Models: 6');
  console.log('   - Warranties: 3 (30, 90, 180 ‡∏ß‡∏±‡∏ô)');
  console.log('   - Parts: 7 (‡∏°‡∏µ 2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏ï‡πà‡∏≥)');
  console.log('   - Customers: 5');
  console.log('   - Jobs: 5 (‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ï‡πà‡∏≤‡∏á‡πÜ)');
  console.log('   - Repair Records: 5');
  console.log('   - Job Parts: 4');
  console.log('   - Activity Logs: 7');
  console.log('\nüîë ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Login:');
  console.log('   Username: admin, manager, tech1, tech2, receptionist');
  console.log('   Password: 123456 (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)');
  console.log('\nüí° ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢:');
  console.log('   - Dashboard: ‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î');
  console.log('   - Jobs: ‡∏î‡∏π‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏° 5 ‡∏á‡∏≤‡∏ô ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ï‡πà‡∏≤‡∏á‡πÜ');
  console.log('   - Parts: ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà 2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏ï‡πà‡∏≥');
  console.log('   - Customers: ‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ 5 ‡∏£‡∏≤‡∏¢');
  console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n');
}

main()
  .catch((e) => {
    console.error('‚ùå Error:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
