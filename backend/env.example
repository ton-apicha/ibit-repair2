# ========================================
# iBit Repair Backend Environment Configuration
# ========================================
# 
# คัดลอกไฟล์นี้เป็น .env และปรับแต่งค่าตามสภาพแวดล้อมของคุณ
# 
# ตัวอย่าง:
#   cp env.example .env
#   cp env.example .env.development
#   cp env.example .env.production

# ========================================
# Database Configuration
# ========================================

# MySQL Database URL
# รูปแบบ: mysql://username:password@host:port/database
DATABASE_URL="mysql://root:admin123@localhost:3306/ibit_repair"

# Database Connection Pool Settings (Optional)
# DB_POOL_MIN=5          # จำนวน connection ขั้นต่ำ
# DB_POOL_MAX=20         # จำนวน connection สูงสุด
# DB_POOL_IDLE=10000     # เวลาที่ connection จะถูกปิด (ms)

# ========================================
# JWT Authentication Configuration
# ========================================

# JWT Secret Key (สำคัญมาก! ต้องเปลี่ยนใน production)
# สร้างด้วย: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET="ibit-repair-secret-key-2025-change-in-production"

# JWT Token Expiration (วินาที)
JWT_EXPIRES_IN=86400          # 24 ชั่วโมง
JWT_REFRESH_EXPIRES_IN=604800 # 7 วัน

# ========================================
# Server Configuration
# ========================================

# Port ที่ server จะรัน
PORT=4000

# Environment (development, production, test)
NODE_ENV="development"

# Host ที่ server จะ bind (0.0.0.0 = ทุก interface)
HOST="0.0.0.0"

# ========================================
# CORS Configuration
# ========================================

# อนุญาต origins สำหรับ CORS (คั่นด้วย comma)
# ใน production ให้ระบุ domain ที่แน่นอน
CORS_ORIGINS="http://localhost:3000,http://127.0.0.1:3000"

# ========================================
# File Upload Configuration
# ========================================

# ขนาดไฟล์สูงสุด (bytes)
MAX_FILE_SIZE=10485760        # 10MB

# อนุญาตประเภทไฟล์
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/webp,application/pdf"

# โฟลเดอร์เก็บไฟล์ upload
UPLOAD_DIR="./uploads"

# ========================================
# Email Configuration (สำหรับแจ้งเตือน)
# ========================================

# SMTP Configuration
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=""
SMTP_PASS=""

# Email จาก
EMAIL_FROM="noreply@ibit-repair.com"

# ========================================
# Logging Configuration
# ========================================

# Log Level (error, warn, info, debug)
LOG_LEVEL="info"

# Log Directory
LOG_DIR="./logs"

# เก็บ log กี่วัน
LOG_RETENTION_DAYS=14

# ========================================
# Security Configuration
# ========================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000   # 15 นาที
RATE_LIMIT_MAX_REQUESTS=100   # จำนวน request สูงสุดต่อ window

# Password Policy
MIN_PASSWORD_LENGTH=8
REQUIRE_UPPERCASE=true
REQUIRE_LOWERCASE=true
REQUIRE_NUMBERS=true
REQUIRE_SYMBOLS=false

# Session Configuration
SESSION_SECRET="ibit-session-secret-change-in-production"
SESSION_MAX_AGE=86400000      # 24 ชั่วโมง (ms)

# ========================================
# Monitoring & Health Check
# ========================================

# Health Check Interval (ms)
HEALTH_CHECK_INTERVAL=30000

# Metrics Collection
ENABLE_METRICS=true

# ========================================
# Feature Flags
# ========================================

# เปิด/ปิด features ต่างๆ
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_PASSWORD_RESET=true
ENABLE_AUDIT_LOG=true

# ========================================
# External Services
# ========================================

# Redis (สำหรับ caching - Optional)
REDIS_URL="redis://localhost:6379"

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # ทุกวันเวลา 02:00
BACKUP_RETENTION_DAYS=30

# ========================================
# Development Only Settings
# ========================================

# เปิด debug mode
DEBUG=true

# เปิด request logging
ENABLE_REQUEST_LOGGING=true

# Seed database ด้วยข้อมูลทดสอบ
SEED_DATABASE=true
